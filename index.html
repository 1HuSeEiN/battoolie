<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ø¥Ù„Ù‰ Ø£ØºÙ„Ù‰ Ø¥Ù†Ø³Ø§Ù†Ø©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:ital,wght@1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #ffe4e6 0%, #fda4af 100%);
            overflow: hidden; /* Ù…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø²Ø§Ø¦Ø¯ ÙÙŠ Ø§ÙŠÙÙˆÙ† */
            /* Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ø·ÙˆÙ„ Ø´Ø§Ø´Ø© Ø§ÙŠÙÙˆÙ† */
            min-height: 100vh;
            min-height: 100dvh;
            /* Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ù†ÙˆØªØ´ ÙˆØ§Ù„Ø­ÙˆØ§Ù ÙÙŠ Ø§ÙŠÙÙˆÙ† 11 ÙˆÙ…Ø§ ÙÙˆÙ‚ */
            padding-top: max(1rem, env(safe-area-inset-top));
            padding-bottom: max(1rem, env(safe-area-inset-bottom));
            touch-action: manipulation;
        }

        #flower-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* ÙŠØ³Ù…Ø­ Ø¨Ù…Ø±ÙˆØ± Ø§Ù„Ø¶ØºØ· Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠØ© */
            z-index: 50; /* Ø±ÙØ¹ Ø§Ù„Ø·Ø¨Ù‚Ø© Ù„ØªØµØ¨Ø­ ÙÙˆÙ‚ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
            overflow: hidden;
        }

        .heart-beat {
            animation: beat 1.5s infinite;
        }

        @keyframes beat {
            0% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }

        .floating-element {
            position: absolute;
            top: -50px;
            animation-name: fall;
            animation-timing-function: linear;
            z-index: 50;
        }

        @keyframes fall {
            to { transform: translateY(120vh) rotate(360deg); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.85); /* Ø´ÙØ§ÙÙŠØ© Ø£ÙƒØ«Ø± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø®Ù„ÙÙŠØ© */
            backdrop-filter: blur(12px);
            border: 2px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            z-index: 10; /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ØªØ­Øª Ø§Ù„Ù‚Ù„ÙˆØ¨ */
            /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
            opacity: 0;
            transform: scale(0.8) translateY(50px);
            transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .glass-card.show {
            opacity: 1;
            transform: scale(1) translateY(0);
        }

        /* Intro Screen Styles */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #fff0f3 0%, #ffe4e6 100%);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.8s ease-in-out, visibility 0.8s;
        }

        .intro-hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .pulse-button {
            animation: pulse-shadow 2s infinite;
        }

        @keyframes pulse-shadow {
            0% { box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(236, 72, 153, 0); }
            100% { box-shadow: 0 0 0 0 rgba(236, 72, 153, 0); }
        }

        .pop-in {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.5) translateY(20px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„Ø²Ø± Ù„Ù„Ø§ÙŠÙÙˆÙ† */
        button {
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4 relative text-gray-800 w-full">

    <!-- Intro Screen -->
    <div id="intro-screen">
        <div class="text-7xl mb-6 heart-beat drop-shadow-lg">ğŸ’Œ</div>
        <h2 class="text-2xl font-bold text-pink-600 mb-2 font-[Amiri]">Ù„Ø¯ÙŠÙƒÙ Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ©</h2>
        <p class="text-gray-500 mb-8 text-sm">Ù…Ù† Ø­Ø³ÙŠÙ† ÙƒÙŠÙ„Ø§Ù†</p>
        
        <button onclick="startExperience()" class="bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold py-4 px-10 rounded-full text-xl shadow-xl transform transition hover:scale-105 active:scale-95 pulse-button">
            ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© âœ¨
        </button>
    </div>

    <!-- Background Decoration Container -->
    <div id="flower-container"></div>

    <!-- Audio Element -->
    <audio id="bg-music" loop playsinline>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- Main Content -->
    <div id="main-card" class="glass-card w-full max-w-md rounded-3xl p-8 text-center relative mx-auto">
        
        <!-- Music Toggle Button -->
        <button onclick="toggleMusic()" id="music-btn" class="absolute top-4 left-4 bg-pink-100/90 text-pink-600 px-4 py-2 rounded-full flex items-center justify-center shadow-sm hover:bg-pink-200 transition-colors z-20 gap-2 font-bold text-sm backdrop-blur-sm">
            <i class="fas fa-pause"></i>
            <span>ÙˆÙ‚ÙÙŠÙ†ÙŠ</span>
        </button>

        <!-- Header -->
        <div class="mb-6 mt-2">
            <div class="text-6xl text-red-500 mb-4 drop-shadow-md heart-beat inline-block">â¤ï¸</div>
            <h1 class="text-3xl font-bold text-pink-600 mb-2">Ø¥Ù„Ù‰ Ø­Ø¨ÙŠØ¨ØªÙŠ</h1>
            <p class="text-gray-600 text-sm">Ø£Ù†ØªÙ Ø£Ø¬Ù…Ù„ ØµØ¯ÙØ© ÙÙŠ Ø­ÙŠØ§ØªÙŠ</p>
        </div>

        <!-- Dynamic Message Box -->
        <div id="message-area" class="min-h-[120px] flex items-center justify-center bg-pink-50/80 rounded-2xl p-6 mb-6 border border-pink-100 shadow-inner backdrop-blur-sm">
            <p class="text-xl font-bold text-gray-700 font-[Amiri] leading-relaxed transition-all duration-300" id="current-message">
                Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø§Ù„Ø£Ø³ÙÙ„...
            </p>
        </div>

        <!-- Buttons Grid -->
        <div class="grid grid-cols-1 gap-3 mb-4">
            <button onclick="showLove()" class="w-full bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg transform active:scale-95 transition-all text-lg flex items-center justify-center gap-2">
                <i class="fas fa-heart"></i>
                ÙƒÙ„Ø§Ù… Ø­Ø¨
            </button>
            
            <button onclick="rainMix()" class="w-full bg-white text-pink-600 border-2 border-pink-100 hover:bg-pink-50 font-bold py-4 px-4 rounded-xl shadow-sm transform active:scale-95 transition-all flex items-center justify-center gap-2 text-lg">
                <span class="text-xl">ğŸ¤â¤ï¸</span>
                Ø£Ù…Ø·Ø±ÙŠ Ø­Ø¨Ø§Ù‹
            </button>
        </div>

        <!-- Footer -->
        <div class="mt-6 pt-4 border-t border-gray-200">
            <p class="text-xs text-gray-400">ØµÙÙ†Ø¹ Ø¨ÙƒÙ„ ğŸ¤ Ù„Ø£Ø¬Ù„Ùƒ</p>
            <p class="text-sm font-bold text-pink-600 mt-1 font-[Amiri]">Ø­Ø³ÙŠÙ† ÙƒÙŠÙ„Ø§Ù† Ø§Ù„Ù…Ù…Ø«Ù„ ğŸŒŸ</p>
            <div id="love-counter" class="text-xs text-pink-400 mt-1 font-bold h-4"></div>
        </div>

    </div>

    <script>
        // Music Control
        const audio = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-btn');
        // Ù†Ø¨Ø¯Ø£ Ø§Ù„ØªØ´ØºÙŠÙ„ ÙƒØ£Ù†Ù‡ Ù…ÙØ¹Ù„ Ù„Ø£Ù†Ù†Ø§ Ø³Ù†Ø´ØºÙ„Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
        let isPlaying = true; 

        function startExperience() {
            // Hide Intro
            const intro = document.getElementById('intro-screen');
            intro.classList.add('intro-hidden');

            // Show Main Card
            const card = document.getElementById('main-card');
            setTimeout(() => {
                card.classList.add('show');
            }, 300); // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„Ø­Ø±ÙƒØ©

            // Play Music automatically on entry
            audio.play().catch(e => {
                console.log("Audio play failed, user interaction needed usually, but click handled it.");
                isPlaying = false;
                updateMusicBtnState();
            });

            // Start a celebration rain
            rainMix();
        }

        function updateMusicBtnState() {
            if (isPlaying) {
                musicBtn.innerHTML = '<i class="fas fa-pause"></i> <span>ÙˆÙ‚ÙÙŠÙ†ÙŠ</span>';
            } else {
                musicBtn.innerHTML = '<i class="fas fa-music"></i> <span>Ø´ØºÙ„ÙŠÙ†ÙŠ</span>';
            }
        }

        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
            } else {
                audio.play().catch(e => alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø§Ù„ØµÙˆØª song.mp3"));
            }
            isPlaying = !isPlaying;
            updateMusicBtnState();
        }

        // Auto-fix for iOS Audio Context (sometimes needed)
        document.addEventListener('touchstart', function() {
            if(!isPlaying && audio.paused) {
                // Just to unlock audio context
                audio.load(); 
            }
        }, { once: true });


        // Love Messages
        const messages = [
            "Ø£Ù†ØªÙ Ø£Ø¬Ù…Ù„ Ø´ÙŠØ¡ Ø­Ø¯Ø« Ù„ÙŠ ÙÙŠ Ø¯Ù†ÙŠØªÙŠ ğŸŒ¹",
            "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙ„Ù…Ø§Øª ØªØµÙ Ø¬Ù…Ø§Ù„ Ø¹ÙŠÙ†ÙŠÙƒÙ âœ¨",
            "Ø£Ø­Ø¨Ùƒ Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø£Ù…Ø³ØŒ ÙˆØ£Ù‚Ù„ Ù…Ù† Ø§Ù„ØºØ¯ â¤ï¸",
            "ÙˆØ¬ÙˆØ¯Ùƒ Ø¨Ø¬Ø§Ù†Ø¨ÙŠ Ù‡Ùˆ ÙƒÙ„ Ù…Ø§ Ø£Ø­ØªØ§Ø¬Ù‡ Ù„Ø£ÙƒÙˆÙ† Ø³Ø¹ÙŠØ¯Ø§Ù‹",
            "Ø£Ù†ØªÙ Ù‚Ù…Ø±ÙŠ Ø§Ù„Ø°ÙŠ ÙŠÙ†ÙŠØ± Ø¹ØªÙ…Ø© Ø£ÙŠØ§Ù…ÙŠ ğŸŒ™",
            "Ø¶Ø­ÙƒØªÙƒ Ù‡ÙŠ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ù‚Ù„Ø¨ÙŠ ğŸ¶",
            "ÙƒÙ„ Ø§Ù„Ø£ØºØ§Ù†ÙŠ Ø§Ù„Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© ØªØ°ÙƒØ±Ù†ÙŠ Ø¨ÙƒÙ",
            "ÙŠØ§ Ù†Ø¹Ù…Ø© Ø§Ù„Ù„Ù‡ Ù„ÙŠØŒ Ø¯Ù…ØªÙ Ù„ÙŠ Ø´ÙŠØ¦Ø§Ù‹ Ø¬Ù…ÙŠÙ„Ø§Ù‹ Ù„Ø§ ÙŠÙ†ØªÙ‡ÙŠ ğŸ¤",
            "Ø£Ù†ØªÙ Ù„Ø³ØªÙ Ø¬Ø²Ø¡Ø§Ù‹ Ù…Ù† Ø­ÙŠØ§ØªÙŠØŒ Ø£Ù†ØªÙ Ø­ÙŠØ§ØªÙŠ ÙƒÙ„Ù‡Ø§ ğŸŒ",
            "Ø£Ø´ØªØ§Ù‚ Ù„ÙƒÙ Ø­ØªÙ‰ ÙˆØ£Ù†ØªÙ Ù…Ø¹ÙŠ",
            "Ø§Ù„Ù‚Ù‡ÙˆØ© Ù…Ø¹ÙƒÙ Ù„Ù‡Ø§ Ø·Ø¹Ù… Ø¢Ø®Ø± â˜•",
            "Ù‚Ù„Ø¨ÙŠ ÙŠØ¯Ù‚ ğŸ¤â¤ï¸ğŸ¤â¤ï¸ ÙƒÙ„Ù…Ø§ Ø±Ø£ÙŠØªÙƒ"
        ];

        let clickCount = 0;
        const messageEl = document.getElementById('current-message');

        function showLove() {
            updateMessage(messages);
            createExplosion('â¤ï¸');
            createExplosion('ğŸ¤');
            updateCounter();
        }

        function updateMessage(array) {
            const randomIndex = Math.floor(Math.random() * array.length);
            messageEl.classList.remove('pop-in');
            void messageEl.offsetWidth; 
            messageEl.textContent = array[randomIndex];
            messageEl.classList.add('pop-in');
        }

        function updateCounter() {
            clickCount++;
            if (clickCount > 0 && clickCount % 3 === 0) {
                 document.getElementById('love-counter').innerText = `Ù†Ø¨Ø¶Ø§Øª Ù‚Ù„Ø¨ÙŠ Ù„ÙƒÙ: ${clickCount * 1000}`;
            }
        }

        function rainMix() {
            const items = ['â¤ï¸', 'ğŸ¤', 'ğŸŒ¹', 'ğŸŒ¸', 'ğŸŒº', 'ğŸ¤', 'â¤ï¸'];
            let i = 0;
            const interval = setInterval(() => {
                const randomItem = items[Math.floor(Math.random() * items.length)];
                createFloatingElement(randomItem);
                i++;
                if (i > 50) clearInterval(interval); // Increased count
            }, 60); // Faster rain

            messageEl.textContent = "Ø§Ù„Ø¯Ù†ÙŠØ§ ØªÙ…Ø·Ø± Ø­Ø¨ ÙˆÙˆØ±Ø¯ Ù„Ø¹ÙŠÙˆÙ†Ùƒ ğŸ¤â¤ï¸";
        }

        function createExplosion(emoji) {
            const x = window.innerWidth / 2;
            const y = window.innerHeight / 2;

            for (let i = 0; i < 15; i++) {
                const el = document.createElement('div');
                el.innerText = emoji;
                el.style.position = 'fixed';
                el.style.left = x + 'px';
                el.style.top = y + 'px';
                el.style.fontSize = Math.random() * 20 + 20 + 'px';
                el.style.pointerEvents = 'none';
                el.style.zIndex = '100';
                el.style.transition = 'all 1s ease-out';
                
                document.body.appendChild(el);

                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 150 + 50;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;

                requestAnimationFrame(() => {
                    el.style.transform = `translate(${tx}px, ${ty}px) scale(0)`;
                    el.style.opacity = '0';
                });

                setTimeout(() => el.remove(), 1000);
            }
        }

        function createFloatingElement(char) {
            const el = document.createElement('div');
            el.classList.add('floating-element');
            el.innerText = char;
            
            const size = Math.random() * 30 + 15; // Bigger hearts
            el.style.fontSize = `${size}px`;
            el.style.left = Math.random() * 90 + 5 + 'vw'; // Keep away from edges
            
            // Random opacity for better background effect
            el.style.opacity = Math.random() * 0.7 + 0.3;

            const duration = Math.random() * 5 + 5; 
            el.style.animationDuration = `${duration}s`;
            
            document.getElementById('flower-container').appendChild(el);

            setTimeout(() => {
                el.remove();
            }, duration * 1000);
        }

        // Ambient background animation removed.

    </script>
</body>
</html>
